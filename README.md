# myndricai
# MYNDRIC AI — Android detective game (Room)

Мобильная игра-детектив: игрок выбирает кейс, подбирает PIN-код “чужого телефона”, изучает улики (сообщения/календарь/галерея), пишет **заключение** и получает результат (успех/провал).  
Проект выполнен на **Java + XML**, хранение данных — **Room**, сессия и настройки — **SharedPreferences**.

---

## Основной сценарий
1. **Main** → Авторизация / Регистрация  
2. **Cases** (меню кейсов со статусами)  
3. Запуск расследования:
   - **LockScreen** (ввод 4-значного PIN)
   - **Phone Desktop** → **Gallery / Calendar / Messages**
   - **Conclusion** → проверка ответа → **ResultSuccess / ResultFail**
4. После результата:
   - переход в меню кейсов
   - “Новый кейс” → уведомление, что все доступные сюжеты пройдены
   - кейс помечается как **COMPLETED**

---

## Функциональность
- Регистрация/вход/выход пользователя
- Меню кейсов со статусами: `NEW / IN_PROGRESS / COMPLETED`
- Экран блокировки телефона с вводом PIN
- Экран “рабочий стол” + переходы в улики
- Экран “Заключение”:
  - ввод текста (поддержка русского языка)
  - счётчик символов
  - “Нужно больше улик?” → Toast (платная функция)
- Экраны результата:
  - отображают **версию игрока** (введённый текст), а не статичный текст
  - отображают “Правду”
- Профиль:
  - редактирование имени
  - сброс прогресса кейсов
  - выход из аккаунта
- (Опционально) тёмная тема через `values-night`

---

## Технологии
- Android Studio
- Java (Activities)
- XML + Material Components
- Room (SQLite)
- SharedPreferences (сессия, настройки)

---

## Структура данных
### Room entities
- `UserEntity`: `id`, `name`, `email`, `password`
- `CaseEntity`: `id`, `title`, `description`, `status`, `pin`, `answerKeywordsCsv`

### SharedPreferences
- `uid` — id текущего пользователя (сессия)
- (опционально) `dark_theme` — настройка темы

---

## Запуск проекта
1. Откройте проект в **Android Studio**
2. Дождитесь синхронизации Gradle
3. Запустите на эмуляторе/устройстве (Android 8+ рекомендуется)

> Примечание: в учебной версии используется `allowMainThreadQueries()` для Room (для демонстрации). В production планируется вынести запросы в фоновые потоки.

---

## Важно про PIN и seed кейса
Кейс создаётся автоматически при первом запуске (seed в `CaseRepository.seedDefaultsIfNeeded()`).

Если вы изменили PIN в коде, но приложение продолжает принимать старый:
- база уже создана, и seed больше не выполняется
- удалите приложение с устройства/эмулятора **или**
- увеличьте `version` в `AppDatabase` и добавьте migration **или**
- обновляйте значение в БД через DAO (например `updatePin()`)

---

## Проверка заключения (вариативность)
Ответ проверяется по ключевым признакам (например: имя, возраст, профессия).  
Поддерживается вариативная формулировка (разные регистры, пробелы, частичные совпадения и т.п.).

